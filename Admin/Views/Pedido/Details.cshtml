@model Admin.Models.PedidoItemViewModel

@{
  ViewBag.Title = "Details";
}

<section class="content-header">
  <h1>
    Pedidos de Venda
    <small>Detalhes</small>
  </h1>
</section>
<section class="content">
  <div class="row">
    <div class="col-lg-12">
      <div class="box box-primary">
        <div class="box box-body">
          <h4>Dados do cliente</h4>
          <hr />
          <div class="form-horizontal">
            <div class="form-group">
              <div class="col-md-1">
                @Html.LabelFor(model => model.Pessoa.CPF, "CPF:", htmlAttributes: new { @class = "control-label" })
              </div>
              <div class=" col-md-2">
                @Html.EditorFor(model => model.Pessoa.CPF, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
              </div>
              <div class="col-md-1">
                @Html.LabelFor(model => model.Pessoa.NomeCompleto, "Nome:", htmlAttributes: new { @class = "control-label" })
              </div>
              <div class="col-md-5">
                @Html.EditorFor(model => model.Pessoa.NomeCompleto, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
              </div>
            </div>
            <br />
          </div>
          <hr />
          
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="box box-success">
        <div class="box box-body">
          <div class="form-horizontal">
            <h4>Dados do pedido</h4>
            <hr />
            <div class="form-group">
              <div class="col-md-2">
                @Html.LabelFor(model => model.Pedido.DataPedido, "Data do pedido:", htmlAttributes: new { @class = "control-label" })
              </div>
              <div class="col-md-2">
                @Html.EditorFor(model => model.Pedido.DataPedido, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
              </div>
              <div class="col-md-2">
                @Html.LabelFor(model => model.Pedido.Total, "Total: ", htmlAttributes: new { @class = "control-label" })
              </div>
              <div class="col-md-2">
                <div class="input-group">
                  <span class="input input-group-addon">R$</span>
                  @Html.EditorFor(model => model.Pedido.Total, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                </div>
              </div>
            </div>
          </div>
          <div class="table">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr>
                  <th>
                    Remover:
                  </th>
                  <th>
                    Nome:
                  </th>
                  <th>
                    Descrição:
                  </th>
                  <th>
                    Preço Unitário:
                  </th>
                  <th>
                    Quantidade:
                  </th>
                </tr>
              </thead>
              <tbody>
                @foreach (var item in Model.Produtos)
                {
                  <tr>
                    <td>
                      <a href="@Url.Action("Edit", "Produtos", new { id = item.Produto.Id })" title="Editar"><span class="label label-danger">Remover</span></a>
                    </td>
                    <td title="@item.Produto.Nome">
                      @if (item.Produto.Nome.Length > 130)
                      {
                        item.Produto.Nome = item.Produto.Nome.Substring(0, 130) + "...";
                      }
                      @Html.DisplayFor(modelItem => item.Produto.Nome)
                    </td>
                    <td title="@item.Produto.Descricao">
                      @*@if (item.Produto.Descricao.Length > 130)
                {
                  item.Produto.Descricao = item.Produto.Descricao.Substring(0, 130) + "...";
                }*@
                      @Html.DisplayFor(modelItem => item.Produto.Descricao)
                    </td>
                    <td id="tdPrecoProduto">
                      @String.Format("{0:c} ", item.Produto.PrecoVenda)
                    </td>
                    <td>
                      @item.Produto.Quantidade
                    </td>
                  </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
@*<p>
      @Html.ActionLink("Edit", "Edit", new { id = Model.Pedido.Id }) |
      @Html.ActionLink("Back to List", "Index")
  </p>*@
<p>
  <a href="@Url.Action("Edit", "Pedido", new { id = Model.Pessoa.Id })" title="Editar"><span class="label label-info">Editar</span></a>
  <a href="@Url.Action("Index", "Pedido", new { id = Model.Pessoa.Id })" title="Index"><span class="label label-info">Listar</span></a>
</p>