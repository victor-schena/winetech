@model IEnumerable<Entities.Tables.Pessoa>
@{
  Layout = "~/Views/Shared/_Layout.cshtml";
}


@using (Html.BeginForm())
{
  @Html.AntiForgeryToken()
  <section class="content">
    <div class="box box-primary">
      <div class="box-body"style="text-align:center">
        <p>Digite Pessoa ou empresa:</p>
        <input type="text" name="texto" id="texto" placeholder="Digite a pesquisa" /><br />
        <div><button type="submit">Pesquisar</button></div>
        </div>
      </div>
    </section>
        }
        @if (Model != null)
        {
          <section class="content">
            <div class="box box-primary">
              <div class="box-body">
                <div class="table">
                  <table class="table table-striped table-bordered table-hover">
                    <tr>
                      <th>
                        Razao Social:
                      </th>
                      <th>
                        Nome Fantasia:
                      </th>
                      <th>
                        Nome Completo:
                      </th>
                      <th>
                        RG:
                      </th>
                      <th>
                        CPF:
                      </th>
                      <th>
                        Data de Nascimento:
                      </th>
                      <th>
                        CNPJ:
                      </th>
                      <th>
                        Email:
                      </th>
                      <th>
                        Telefone:
                      </th>
                      <th>
                        Celular:
                      </th>
                      <th>
                        Status:
                      </th>
                      <th>
                        Limite de Credito:
                      </th>
                      <th>
                        Tipo Pessoa:
                      </th>
                      <th>
                        Papel Pessoa:
                      </th>
                      <th></th>
                    </tr>

                    @foreach (var item in Model)
                    {
                      if (item.Status)
                      {
                        <tr>
                          <td>
                            @Html.DisplayFor(modelItem => item.RazaoSocial)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.NomeFantasia)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.NomeCompleto)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.RG)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.CPF)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.DataNascimento)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.CNPJ)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.Email)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.Telefone)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.Celular)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.Status)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.LimiteCredito)
                          </td>

                          <td>
                            @Html.DisplayFor(modelItem => item.TipoPessoaId)
                          </td>
                          <td>
                            @Html.DisplayFor(modelItem => item.PapelPessoaId)
                          </td>
                          <td>
                            <a href="@Url.Action("Edit", "Pessoas", new { id = item.Id })" title="Editar"><span class="label label-info">Editar</span></a>
                            <a href="@Url.Action("Details", "Pessoas", new { id = item.Id })" title="Detalhes do produto"><span class="label label-warning"><i class="fa fa-unlock fa-fw"></i></span></a>
                            <a class="btn-delete" href="#" data-action="@Url.Action("Delete", "Pessoas", new { id = item.Id })" data-toggle="modal" data-target="#confirmation-delete-modal" title="deletar"><span class="label label-danger">DEL</span></a>
                          </td>
                        </tr>
                      }
                    }
                  </table>
                </div>
              </div>
            </div>
          </section>
        }
        else
        {
          <p style="text-align:center"> Nenhum registro encontrado!</p>
        }
        }
        <div class="modal fade" id="confirmation-delete-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">Deletar Registro?</h4>
              </div>
              <div class="modal-body">
                Essa ação é irreversível. Deletar?
              </div>
              <div class="modal-footer">
                <form id="form-delete" method="post" novalidate="novalidate">
                  @Html.AntiForgeryToken()
                  <input type="submit" value="Sim" class="btn btn-success btn-flat" />
                  <a href="#" class="btn btn-danger btn-flat" data-dismiss="modal">Não</a>
                </form>
              </div>
            </div>
          </div>
        </div>
